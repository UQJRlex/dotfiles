#!/usr/bin/sh
# @author nate
# @since 2025

#exec_always "$HOME"/.local/bin/wobd
wobfifo="/tmp/wob.fifo"
level="$(brightnessctl | awk '/%/{gsub("[()]", "", $4); print $4}')"

icon="󱩎"

# ` `(U+2009) is the Thin Space
echo "$icon" "$level"

case $BLOCK_BUTTON in
    1) pkill -SIGRTMIN+3 i3blocks &
        ;;
    4) brightnessctl set 1%+ | awk -F'[()]' 'NR==3 {print $2}'| sed 's/%//' > $wobfifo && pkill -SIGTMIN+3 i3blocks &
        ;;

    5) brightnessctl set 1%- | awk -F'[()]' 'NR==3 {print $2}'| sed 's/%//' > $wobfifo  && pkill -SIGTMIN+3 i3blocks &
        ;;
esac

