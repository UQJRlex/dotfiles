#!/usr/bin/sh
# @author nate zhou
# @since 2025

result="$(task count +ACTIVE)"

icon="󰅎"
color="#ffffff"

#[ "$result" -eq 0 ] || [ -z "$result" ] && exit 0
[ "$result" -eq 0 ] || [ -z "$result" ] && color="#888888"

case $BLOCK_BUTTON in
    2) footclient -T "Floating Term" -H taskwarrior-tui >/dev/null &
        ;;
    3) notify-send -u low -r 3301 -t 1100 "$icon $(basename $0)" "" && pkill -SIGRTMIN +15 i3blocks &
        ;;
esac

# ` `(U+2009) is the Thin Space
echo "$icon" "$result"
echo

echo "$color"
