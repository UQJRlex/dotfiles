#!/usr/bin/sh
# bright
# @author nate zhou
# @since 2025
wobfifo="/tmp/wob.fifo"

bright_minus() {
    brightnessctl set 2%- | grep 'Current brightness' | tr '()' ' ' | cut -d' ' -f5 | sed 's/%//' > $wobfifo  && pkill -SIGRTMIN+3 i3blocks
}

brigt_plus() {
    brightnessctl set 2%+ | grep 'Current brightness' | tr '()' ' ' | cut -d' ' -f5 | sed 's/%//' > $wobfifo  && pkill -SIGRTMIN+3 i3blocks
}

while [ -n "$1" ]; do
    case "$1" in
        --minus)
            bright_minus
            ;;
        --plus)
            brigt_plus
            ;;
    esac
    shift
done
